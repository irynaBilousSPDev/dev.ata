(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(e,r,n){return(r=function(e){var r=function(e){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}!function(t){var e,n,o=ajax_filter_params.ajax_url,a={13:"filter_bachelor",15:"filter_master"}[wpData.page_id]||"filter_posts",i=t("#ajax-filter-form"),c=t("#selected-tags"),l=t("#tags-container"),u=t("#filter-results");function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.ajax({url:o,method:"POST",data:r({action:a},e),success:function(t){u.html(t)}})}function s(e,r){t("<span>").addClass("filter-tag").attr("data-value",r).text("".concat(e," âœ•")).appendTo(c),l.show()}function p(t){c.find('[data-value="'.concat(t,'"]')).remove(),0===c.children().length&&l.hide()}t.ajax({url:o,method:"POST",data:{action:a},success:function(t){u.html(t)}}),i.on("change",'input[type="checkbox"]',(function(){var e=t(this),r=e.closest("label").text().trim(),n=e.val();e.is(":checked")?s(r,n):p(n),f({form_data:i.serialize()});var o=new URLSearchParams;i.find('input[type="checkbox"]:checked').each((function(){var e=t(this).attr("name").replace("[]",""),r=t(this).val();o.append(e,r)})),window.history.pushState({},"",window.location.pathname)})),c.on("click",".filter-tag",(function(){var e=t(this).data("value");i.find('input[value="'.concat(e,'"]')).prop("checked",!1),p(e),f({form_data:i.serialize()})})),t("#clear-filters").on("click",(function(){i.find('input[type="checkbox"]').prop("checked",!1),c.empty(),l.hide(),f(),window.history.pushState({},"",window.location.pathname)})),e=new URLSearchParams(window.location.search),n={},e.forEach((function(t,e){var r=i.find('input[name="'.concat(e,'[]"][value="').concat(t,'"]'));r.length&&(r.prop("checked",!0),s(r.closest("label").text().trim(),t),n[e]=n[e]||[],n[e].push(t))})),Object.keys(n).length>0&&f({form_data:i.serialize()})}(jQuery)})();
//# sourceMappingURL=ajaxFilter.js.map